<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>iPad Air</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="stylesheet" href="iPad_Buy.css">
</head>

<body>
    <header>
        <ul>
            <li>
                <a href=""><img src=""></a>
            </li>
            <li>
                <a href="">商店</a>
            </li>
            <li>
                <a href="">Mac</a>
            </li>
            <li>
                <a href="">iPad</a>
            </li>
            <li>
                <a href="">iPhone</a>
            </li>
            <li>
                <a href="">Watch</a>
            </li>
            <li>
                <a href="">AirPods</a>
            </li>
            <li>
                <a href="">TV和家庭</a>
            </li>
            <li>
                <a href="">娛樂</a>
            </li>
            <li>
                <a href="">配件</a>
            </li>
            <li>
                <a href="">支援服務</a>
            </li>
            <li>
                <a href=""><img src="" alt=""></a>
            </li>
            <li>
                <a href=""><img src="" alt=""></a>
            </li>
        </ul>
    </header>
    <nav>
        <div class="text">
            <h1>購買 iPad Air</h1>
            <p>NT$19,900起</p>
        </div>
        <div class="word">
            <span>透過換購，可獲享NT$800-NT$16,000折抵優惠**</span>
            <span>可選用零利率分期付款，最高可達12月</span>
        </div>
    </nav>
    <section>
        <picture><img id="productimg"
                src="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/ipad-air-finish-unselect-gallery-1-202207?wid=2560&hei=1440&fmt=p-jpg&qlt=95&.v=1654902977555"
                width="650" height="400"></picture>
        <div class="text">
            <label>顏色外觀：</label>
            <select id="color">
                <option value="---">-----</option>
                <option value="太空灰色">太空灰色</option>
                <option value="藍色">藍色</option>
                <option value="粉色">粉色</option>
                <option value="紫色">紫色</option>
                <option value="星光色">星光色</option>
            </select>
            <label>儲存容量：</label>
            <select id="storage">
                <option value="---">-----</option>
                <option value="64GB">64GB</option>
                <option value="256GB">256GB</option>
            </select>
            <label>網路連線：</label>
            <select id="network">
                <option value="---">-----</option>
                <option value="Wi-Fi">Wi-Fi</option>
                <option value="Wi-Fi+行動網路">Wi-Fi+行動網路</option>
            </select>
            <div class="price">
                <p>NT$</p>
                <p id="pricenumber">19,000</p>
            </div>
        </div>
    </section>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>

    <script>
        let colorSelect = document.querySelector('#color');
        let storageSelect = document.querySelector('#storage');
        let networkSelect = document.querySelector('#network');
        let productImg = document.getElementById("productimg");

        let ipadArray = [];

        //fetch()讀取GitHub上的iPad.json
        fetch('https://raw.githubusercontent.com/Emma-0317/iPad_Buy/main/iPad_Buy.json')
            .then(response => response.json())
            .then(data => {
                ipadArray = data;
                console.log(ipadArray);
            })
            .catch(error => console.error('Error:', error));

        // // color下拉式選單
        colorSelect.addEventListener("change", () => {
            let Color = colorSelect.value;
            let filteredProduct = ipadArray.filter(function (ipad) {
                return ipad.color == Color;
            });
            productImg.src = filteredProduct[0].picture;//圖片選取
        });

        //storage跟network的下拉式選單
        let selectArray = [storageSelect, networkSelect];
        selectArray.forEach(select => {
            select.addEventListener("change", () => {
                let Storage = storageSelect.value;
                let Network = networkSelect.value;
                let filteredProduct = ipadArray.filter(ipad =>
                    ipad.storage == Storage && ipad.network == Network);
                document.querySelector("#pricenumber").textContent = filteredProduct[0].price;//價錢選取
            });
        });

    </script>
</body>

</html>
